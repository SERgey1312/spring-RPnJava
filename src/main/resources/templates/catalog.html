<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:insert="head_default.html"></th:block>
    <title>Catalog</title>
</head>
<header th:replace="header_admin.html :: header"></header>
<body>
<form action="#" th:action="@{/catalog}" style="text-align: center; margin: 15px auto">
    <label for="mark">Mark:</label>
    <select id="mark" name="mark">
        <option th:value="null"></option>
        <option th:each="mark : ${marks}" th:value="${mark.id}" th:text="${mark.mark_name}" th:selected="${currentMark} == ${mark}? 'selected'">
        </option>
    </select>

    <label for="model">Model:</label>
    <select id="model" name="model">
        <option th:value="null"></option>
        <option th:each="model : ${models}" th:value="${model.id}" th:text="${model.model_name}" th:selected="${currentModel} == ${model}? 'selected'">
        </option>
    </select>

    <label for="body">Body:</label>
    <select id="body" name="body">
        <option th:value="null"></option>
        <option th:each="body : ${bodys}" th:value="${body.id}" th:text="${body.body_name}" th:selected="${currentBody} == ${body}? 'selected'">
        </option>
    </select>

    <label for="trans">Transmission:</label>
    <select id="trans" name="transmission">
        <option th:value="null"></option>
        <option th:each="trans : ${transmissions}" th:value="${trans.id}" th:text="${trans.transmission_type}" th:selected="${currentTrans} == ${trans}? 'selected'">
        </option>
    </select>

    <label for="motor">Motor:</label>
    <select id="motor" name="motor">
        <option th:value="null"></option>
        <option th:each="motor : ${motors}" th:value="${motor.id}" th:text="${motor.motor_type}" th:selected="${currentMotor} == ${motor}? 'selected'">
        </option>
    </select>

    <div>
        <label>Min price: </label><input type="text" name="minPrice" placeholder="min price" th:value="${currentMinPrice}">
        <label>Max price: </label><input type="text" name="maxPrice" placeholder="max price" th:value="${currentMaxPrice}">
    </div>
    <br>
    <input type="submit" value="Search" class="btn btn-outline-dark my-2 my-sm-0">
</form>
<div style="text-align: center; margin: 15px auto">
    <h3 th:text="'Found ' + ${autoList.size()} + ' autos'"></h3>
</div>
<div th:each="auto : ${autoList}">
    <div th:id="${auto.id}">
        <div style="display: flex; width: 90%; height: 228px; margin: 13px">
            <div style="width: 50%">
                <img th:src="${auto.photo_link}" alt="no, sorry" style="display: block; width: 71%; height: 100%; margin: 0 auto">
            </div>
            <div style="width: 50%">
                <div class="markAndModel" style="display: flex">
                    <a style="display: block; width: 30%" href="#">
                        <span style="font-size: 21px" th:text="${auto.mark.mark_name} + ' ' + ${auto.model.model_name}"></span>
                        <br>
                        <span style="font-size: 21px" th:text="${auto.body.body_name}"></span>
                    </a>

                    <div style="width: 40%; text-align: center; margin: 0 auto">
                        <span th:text="${auto.year} + ' y.'"></span>
                        <br>
                        <span th:text="${auto.motor.motor_type} + ', '"></span>
                        <span th:text="${auto.transmission.transmission_type}"></span>
                    </div>
                    <div style="width: 30%; text-align: center">
                        <div th:text="${auto.cost} +' $'"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<th:block th:insert="bootstrapjs.html"></th:block>
</body>
</html>